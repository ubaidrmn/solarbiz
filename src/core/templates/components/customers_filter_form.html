<form id="filtersForm" method="get">
    <div class="accordion" id="filtersAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingSearch">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSearch" aria-expanded="true" aria-controls="collapseSearch">
                    Search
                </button>
            </h2>
            <div id="collapseSearch" class="accordion-collapse collapse show" aria-labelledby="headingSearch">
                <div class="accordion-body">
                    <div class="input-group">
                        <input type="text" class="form-control" name="q" placeholder="Search customers..." value="{{ filters.q }}">
                        <button class="btn btn-outline-secondary" type="submit">Go</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingCity">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCity" aria-expanded="false" aria-controls="collapseCity">
                    City
                </button>
            </h2>
            <div id="collapseCity" class="accordion-collapse collapse" aria-labelledby="headingCity">
                <div class="accordion-body">
                    <select class="form-select" name="city">
                        <option value="">All</option>
                        {% for val,label in city_choices %}
                            <option value="{{ val }}" {% if filters.city == val %}selected{% endif %}>{{ label }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOther">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOther" aria-expanded="false" aria-controls="collapseOther">
                    Other
                </button>
            </h2>
            <div id="collapseOther" class="accordion-collapse collapse" aria-labelledby="headingOther">
                <div class="accordion-body">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="on" id="hasNotes" name="has_notes" {% if filters.has_notes %}checked{% endif %}>
                        <label class="form-check-label" for="hasNotes">
                            Has notes
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex gap-2 mt-3">
        <a class="btn btn-outline-secondary w-50" href="{% url 'customers' %}">Reset</a>
        <button class="btn btn-primary w-50" type="submit">Apply</button>
    </div>
</form>
